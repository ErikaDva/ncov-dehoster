// Cores
params {
    illumina_threads = 2
    nanopore_threads = 3
}

process {

    // Base processes computational parameters
    cpus = 1
    memory = 4.GB

    // Allow up to 3 retries per process
    errorStrategy = 'retry'
    maxRetries = 3

    // CPU and Memory Allocation for Specific Labels
    withLabel: largeCPU {
        cpus = 8
        memory = 32.GB
    }

    withLabel: mediumCPU {
        cpus = 2
        memory = 8.GB
    }

    withLabel: smallCPU {
        cpus = 1
        memory = 4.GB
    }

    withLabel: largeMem {
        cpus = 4
        memory = 64.GB
    }

    // CPU and Memory Allocation for Specific Processes
    withName: indexCompositeReference {
        cpus = 2
        memory = 8.GB
    }

    withName: mapToCompositeIndex {
        cpus = 2
        memory = 12.GB
    }

    withName: nanostripper {
        cpus = 8
        memory = 32.GB
    }

    withName: guppyBasecallerCPU {
        cpus = 20
        memory = 64.GB
    }

    withName: regenerateFast5s {
        cpus = 3
        memory = 16.GB
    }

}